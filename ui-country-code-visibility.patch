From a9cd460b89818d45d2c07d1fe6ddc09540f7040a Mon Sep 17 00:00:00 2001
From: Claude <noreply@anthropic.com>
Date: Mon, 10 Nov 2025 15:53:42 +0000
Subject: [PATCH] Improve country code field visibility in Invite User form

- Add clear "Country" label for country code dropdown
- Add "Phone Number" label for mobile input
- Update main label to "Mobile number with country code"
- Use grid layout for better field separation (5:7 ratio)
- Add proper IDs and accessibility attributes

Fixes issue where country code selector was not clearly visible
---
 src/components/users/InviteUserForm.tsx | 127 ++++++++++++++----------
 1 file changed, 73 insertions(+), 54 deletions(-)

diff --git a/src/components/users/InviteUserForm.tsx b/src/components/users/InviteUserForm.tsx
index 87e1bdd..dce54a8 100644
--- a/src/components/users/InviteUserForm.tsx
+++ b/src/components/users/InviteUserForm.tsx
@@ -197,72 +197,91 @@ const InviteUserForm: React.FC<InviteUserFormProps> = ({
         {/* Mobile Number Input with Country Code */}
         <div>
           <label
-            htmlFor="mobile_number"
             className="block text-sm font-medium mb-2 transition-colors"
             style={{ color: colors.utility.primaryText }}
           >
-            Mobile number
+            Mobile number with country code
           </label>
-          <div className="flex gap-2">
+          <div className="grid grid-cols-12 gap-2">
             {/* Country Code Selector */}
-            <select
-              {...register('country_code')}
-              className="px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors"
-              style={{
-                borderColor: `${colors.utility.primaryText}40`,
-                backgroundColor: colors.utility.primaryBackground,
-                color: colors.utility.primaryText,
-                width: '140px'
-              }}
-              disabled={isSubmitting}
-            >
-              {/* Popular countries first */}
-              {popularCountries.map(country => (
-                <option key={country.code} value={country.code}>
-                  {getCountryFlag(country.code)} +{country.phoneCode}
-                </option>
-              ))}
+            <div className="col-span-5">
+              <label
+                htmlFor="country_code"
+                className="block text-xs font-medium mb-1 transition-colors"
+                style={{ color: colors.utility.secondaryText }}
+              >
+                Country
+              </label>
+              <select
+                {...register('country_code')}
+                id="country_code"
+                className="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors"
+                style={{
+                  borderColor: `${colors.utility.primaryText}40`,
+                  backgroundColor: colors.utility.primaryBackground,
+                  color: colors.utility.primaryText,
+                  '--tw-ring-color': colors.brand.primary
+                } as React.CSSProperties}
+                disabled={isSubmitting}
+              >
+                {/* Popular countries first */}
+                {popularCountries.map(country => (
+                  <option key={country.code} value={country.code}>
+                    {getCountryFlag(country.code)} +{country.phoneCode}
+                  </option>
+                ))}
 
-              {/* Separator */}
-              {popularCountries.length > 0 && otherCountries.length > 0 && (
-                <option disabled>──────────</option>
-              )}
+                {/* Separator */}
+                {popularCountries.length > 0 && otherCountries.length > 0 && (
+                  <option disabled>──────────</option>
+                )}
 
-              {/* All other countries alphabetically */}
-              {otherCountries.map(country => (
-                <option key={country.code} value={country.code}>
-                  {getCountryFlag(country.code)} +{country.phoneCode}
-                </option>
-              ))}
-            </select>
+                {/* All other countries alphabetically */}
+                {otherCountries.map(country => (
+                  <option key={country.code} value={country.code}>
+                    {getCountryFlag(country.code)} +{country.phoneCode}
+                  </option>
+                ))}
+              </select>
+            </div>
 
             {/* Mobile Number Input */}
-            <div className="relative flex-1">
-              <Phone
-                className="absolute left-3 top-1/2 transform -translate-y-1/2 transition-colors"
-                size={18}
+            <div className="col-span-7">
+              <label
+                htmlFor="mobile_number"
+                className="block text-xs font-medium mb-1 transition-colors"
                 style={{ color: colors.utility.secondaryText }}
-              />
-              <input
-                {...register('mobile_number')}
-                type="tel"
-                id="mobile_number"
-                placeholder="98765 43210"
-                className={cn(
-                  "w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors",
-                  errors.mobile_number ? "border-destructive" : ""
-                )}
-                style={{
-                  borderColor: errors.mobile_number ? colors.semantic.error : `${colors.utility.primaryText}40`,
-                  backgroundColor: colors.utility.primaryBackground,
-                  color: colors.utility.primaryText,
-                '--tw-ring-color': colors.brand.primary
-              } as React.CSSProperties}
-              disabled={isSubmitting}
-            />
+              >
+                Phone Number
+              </label>
+              <div className="relative">
+                <Phone
+                  className="absolute left-3 top-1/2 transform -translate-y-1/2 transition-colors"
+                  size={18}
+                  style={{ color: colors.utility.secondaryText }}
+                />
+                <input
+                  {...register('mobile_number')}
+                  type="tel"
+                  id="mobile_number"
+                  placeholder="98765 43210"
+                  className={cn(
+                    "w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors",
+                    errors.mobile_number ? "border-destructive" : ""
+                  )}
+                  style={{
+                    borderColor: errors.mobile_number ? colors.semantic.error : `${colors.utility.primaryText}40`,
+                    backgroundColor: colors.utility.primaryBackground,
+                    color: colors.utility.primaryText,
+                    '--tw-ring-color': colors.brand.primary
+                  } as React.CSSProperties}
+                  disabled={isSubmitting}
+                />
+              </div>
+            </div>
           </div>
           {errors.mobile_number && (
-            <div 
+            <div
               className="mt-1 flex items-center text-sm transition-colors"
               style={{ color: colors.semantic.error }}
             >
-- 
2.43.0

