═══════════════════════════════════════════════════
CYCLE 2 — SMART FORMS EDITOR (Monaco + Live Preview)
═══════════════════════════════════════════════════
Branch: cycle2-ui
Submodules Affected: contractnest-ui

PREREQUISITE:
  npm install @monaco-editor/react @dnd-kit/sortable @dnd-kit/utilities --legacy-peer-deps

FILES TO COPY (10 files total):
═══════════════════════════════════════════════════

── UPDATED FILES (3) ──
1. contractnest-ui/src/App.tsx
   → Added FormEditorPage import + editor route (full-screen, no MainLayout)

2. contractnest-ui/src/pages/admin/smart-forms/SmartFormsAdminPage.tsx
   → Added "Create New" button, row click → navigate to editor, useNavigate

── NEW FILES (7) ──
3. contractnest-ui/src/pages/admin/smart-forms/FormEditorPage.tsx
   → Main editor page: 3-panel layout, DnD context, auto-save, dirty tracking

4. contractnest-ui/src/pages/admin/smart-forms/context/FormEditorContext.tsx
   → Editor state: schema, isDirty, validation, undo/redo, insert/reorder

5. contractnest-ui/src/pages/admin/smart-forms/components/MonacoSchemaEditor.tsx
   → Monaco JSON editor wrapper with syntax highlighting + format action

6. contractnest-ui/src/pages/admin/smart-forms/components/LiveFormPreview.tsx
   → Real-time form preview rendering from schema JSON

7. contractnest-ui/src/pages/admin/smart-forms/components/FieldPalette.tsx
   → Draggable field type palette (input, selection, content categories)

8. contractnest-ui/src/pages/admin/smart-forms/components/SchemaToolbar.tsx
   → Toolbar: undo/redo, format, validate, import/export, templates, save

9. contractnest-ui/src/pages/admin/smart-forms/utils/fieldTypeRegistry.ts
   → Field type definitions + snippet generators

10. contractnest-ui/src/pages/admin/smart-forms/utils/sampleSchemas.ts
    → Starter templates (blank, calibration, inspection)

═══════════════════════════════════════════════════
PRODUCTION CHECKLIST
═══════════════════════════════════════════════════
  ✅ Transaction Management: Handled by edge function
  ✅ Race Condition Handling: activeRequestRef guard + debounced auto-save
  ✅ Error Handling: Try-catch, parse errors, API errors
  ✅ Toasts: vaniToast (success/error/warning/info)
  ✅ Loaders: VaNiLoader for template loading state
