===============================================
COPY INSTRUCTIONS -- fix-contract-validation
===============================================

Feature: Fix contract creation - validation errors + title/name mapping
Branch: fix-contract-validation

Submodules Affected: contractnest-ui, contractnest-api

Files (3 total):
-------------------------------------------------
1. contractnest-api/src/controllers/contractController.ts
   - Debug logging removed (back to clean state)

2. contractnest-api/src/services/contractService.ts
   - Maps 'title' -> 'name' before forwarding to edge function (DB RPC expects 'name')
   - Applied to both createContract and updateContract methods

3. contractnest-ui/src/components/contracts/ContractWizard/index.tsx
   - Removed invalid CONTRACT_TYPE_MAP, omit contract_type from request
   - Fixed acceptance_method mapping: payment->manual, signoff->digital_signature
   - Fixed date format: ISO 8601 via Date.toISOString()
   - Fixed fly-by block IDs: generate UUID via crypto.randomUUID()
   - Fly-by blocks marked with isFlyBy:true and originalId in content_snapshot

Copy Commands (PowerShell):
-------------------------------------------------
Copy-Item "MANUAL_COPY_FILES\fix-contract-validation\contractnest-api\src\controllers\contractController.ts" -Destination "contractnest-api\src\controllers\contractController.ts" -Force
Copy-Item "MANUAL_COPY_FILES\fix-contract-validation\contractnest-api\src\services\contractService.ts" -Destination "contractnest-api\src\services\contractService.ts" -Force
Copy-Item "MANUAL_COPY_FILES\fix-contract-validation\contractnest-ui\src\components\contracts\ContractWizard\index.tsx" -Destination "contractnest-ui\src\components\contracts\ContractWizard\index.tsx" -Force
